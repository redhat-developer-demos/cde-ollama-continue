schemaVersion: 2.2.0
metadata:
  name: ollama-continue-udi
attributes:
  controller.devfile.io/storage-type: ephemeral # TODO try to remove this next
starterProjects:
  - name: ollama-continue-udi-codellama13b-gpu
    git:
      remotes:
        origin: https://github.com/manhah/devspaces-ollama-continue.git # TODO Adapt this to the final repo when done
      checkoutFrom:
        remote: origin
        revision: feature/base # TODO Adapt this to a dedicated version (or main) when done
    subDir: sample-1-codellama13b-gpu
  - name: ollama-continue-udi
    git:
      remotes:
        origin: https://github.com/manhah/devspaces-ollama-continue.git # TODO Adapt this to the final repo when done
      checkoutFrom:
        remote: origin
        revision: feature/base # TODO Adapt this to a dedicated version (or main) when done
    subDir: base-stack
components:
- name: udi
  container:
    image: quay.io/devfile/universal-developer-image:ubi8-latest
    memoryLimit: 4Gi
    memoryRequest: 2Gi
    cpuLimit: 4000m
    cpuRequest: 1000m
    mountSources: true
    sourceMapping: /projects
- name: ollama
  attributes:
    container-overrides:
      resources:
        limits:
          cpu: 4000m
          memory: 16Gi
        requests:
          cpu: 1000m
          memory: 8Gi
  container:
    image: docker.io/ollama/ollama:latest
    mountSources: true
    sourceMapping: /.ollama
